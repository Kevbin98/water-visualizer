* {
  margin: 0;
  padding: 0;
}

html,
body {
  overflow: hidden;
  height: 100%;
}

.webgl {
  position: fixed;
  top: 0;
  left: 0;
  outline: none;
}

.ui {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;

  /* safe-area padding for iOS notches/home bar */
  padding: 12px 16px calc(12px + env(safe-area-inset-bottom));
  display: grid;
  grid-template-columns: auto auto 1fr auto; /* play | pause | volume | upload */
  align-items: center;
  gap: 12px;

  backdrop-filter: blur(10px);
  background: color-mix(in oklab, black 30%, transparent);
  -webkit-backdrop-filter: blur(10px);
  color: #fff;
  z-index: 10;
  border-top: 1px solid rgba(255, 255, 255, 0.15);
}

/* Buttons */
.ui button,
.ui .btn {
  appearance: none;
  border: 1px solid rgba(255, 255, 255, 0.25);
  background: rgba(255, 255, 255, 0.08);
  color: inherit;
  font: inherit;
  padding: 10px 14px;
  border-radius: 12px;
  cursor: pointer;
  min-width: 72px;
  touch-action: manipulation;
  font-size: clamp(14px, 2.5vw, 16px);
}
.ui button:active,
.ui .btn:active {
  transform: translateY(1px);
}

/* Range (volume) */
#vol {
  width: 100%;
  accent-color: #7dd3fc; /* nice blue thumb on supported browsers */
  height: 32px; /* bigger tap area */
}

/* Now playing text spans the full width above controls on mobile, inline on desktop */
.song {
  position: fixed;
  left: 0;
  right: 0;
  bottom: calc(56px + env(safe-area-inset-bottom)); /* sit just above bar */
  padding: 6px 14px;
  text-align: center;
  color: #fff;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  font-size: clamp(14px, 2.5vw, 18px);
  pointer-events: none;
}

/* Hide the native file input; label acts as button */
input[type="file"][hidden] {
  display: none !important;
}

/* --- Small screens --- */
@media (max-width: 640px) {
  .ui {
    grid-template-columns: 1fr 1fr;
    grid-auto-rows: minmax(44px, auto);
  }

  /* Buttons on first row */
  #play {
    grid-column: 1;
  }
  #pause {
    grid-column: 2;
  }

  /* Volume slider full width on second row */
  #vol {
    grid-column: 1 / -1;
  }

  /* Upload button full width on third row */
  .btn {
    grid-column: 1 / -1;
  }
}

/* --- Medium+ screens --- */
@media (min-width: 641px) {
  .song {
    position: static;
    padding: 0;
    text-align: left;
    grid-column: 1 / -1;
    margin: 0 16px 8px;
  }
  .ui {
    bottom: 16px;
    left: 16px;
    right: 16px;
    border-radius: 16px;
  }
}

/* Dark/light: tweak background automatically */
@media (prefers-color-scheme: light) {
  .ui {
    background: color-mix(in oklab, white 80%, transparent);
    color: #111;
    border-top: 1px solid rgba(0, 0, 0, 0.08);
  }
  .ui button,
  .ui .btn {
    border-color: rgba(0, 0, 0, 0.15);
    background: rgba(0, 0, 0, 0.05);
  }
  .song {
    color: #111;
    text-shadow: none;
  }
}
